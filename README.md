# NijoApplicationBuilder - スキーマ駆動型アプリケーション生成フレームワーク
NijoApplicationBuilderは、XMLベースのスキーマ定義からアプリケーションコードの一部を自動生成するフレームワークです。
主として、特定の業務フローをサポートするためのアプリケーションのフルスクラッチ開発を補助することを主眼としています。

2025年現在のソフトウェアアーキテクチャは、複数の技術スタックを駆使してアプリケーションを組み上げることが一般的です。
例えば、RDBMSとWebを用いて住所録アプリケーションを作るとき、RDBのテーブル定義、Webのフロントエンド、Webのバックエンドの全てで
「氏名・住所・郵便番号・電話番号」といったような同じデータ構造をもったオブジェクトがそれぞれ定義され、かつそれらの構造は常に同期されている必要があります。
このフレームワークは、XMLベースのスキーマ定義をもとに、以下のソースコードを自動生成することで、
より品質の高いアプリケーションのスクラッチ開発をサポートすることができます。

- それぞれの技術スタックごとに適したオブジェクト構造定義（RDBMSのテーブル定義、C#のクラス、TypeScriptの型定義など）
- 必須入力チェックやORMのデータ構造定義など、スキーマ定義から一意に決まる処理

## プロジェクト概要
Nijoは、スキーマ定義ファイル（nijo.xml）からソースコードを自動生成するツールです。データモデル、クエリモデル、コマンドモデルなどの定義から、C#とTypeScriptのソースコード、データベースのテーブル定義、APIエンドポイント、フロントエンドのコンポーネントなどを生成します。

## 主な機能

- **スキーマ定義のパース**: nijo.xmlからスキーマ定義を読み込み、解析します
- **モデル定義**: データモデル、クエリモデル、コマンドモデル、静的列挙型、値オブジェクトなどの定義
- **コード生成**: 定義されたモデルから各種ソースコードを自動生成
- **検証機能**: スキーマ定義の妥当性検証、参照整合性チェック
- **デバッグ機能**: 生成されたアプリケーションのデバッグと動作確認

## プロジェクト構造
プロジェクトは以下の主要コンポーネントで構成されています：

- [`Nijo/`](./Nijo/): コード生成エンジン。XMLスキーマ解析とコード生成を行ないます。
  - `Models/`: スキーマ定義から生成される各種モデルの実装
  - `ValueMemberTypes/`: 標準データ型の定義
  - `SchemaParsing/`: nijo.xmlのパース処理に関する実装
  - その他の生成ロジック

- [`Nijo.ApplicationTemplate.Ver1/`](./Nijo.ApplicationTemplate.Ver1/): アプリケーションテンプレート。当然ながらアプリケーションはデータ構造だけで完結することはできず、UI、データ構造から一意には決まらない制約、CI/CD用の仕組みなど、種々のカスタマイズを加える必要があります。このテンプレートは、 [`Nijo/`](./Nijo/) が生成したソースコードを利用しながら、実際にユーザが利用できるアプリケーションのサンプルを提供します。このテンプレートは、React.js, ASP.NET Core, SQLite を用いています。
  - なお、あなたは必ずしもこのテンプレートを用いる必要はなく、ASP.NET Core と TypeScirpt を用いる技術スタックであれば任意の構成を使うことができます。
  - RDBMSについては、EFCoreが対応可能なものであればそのまま利用できます。これはこのフレームワークではなく Entity Framework Core の制約です。
  - JavaやKotlinやCOBOLなど、ここで用意されている言語以外での構造体定義が必要な場合、コード生成エンジンの方に改修を加える必要があるため、そのままでは使えません。
- [`Nijo.IntegrationTest/`](./Nijo.IntegrationTest/): [`Nijo/`](./Nijo/) のユニットテスト。
  - `DataPatterns/`: テスト用のデータパターン

## 参考情報
主要なフォルダには `README.md` ファイルを配置しています。
そのフォルダに配置されているモジュールの責務や概要を把握するのに利用してください。

- スキーマ定義の詳細については[Models/README.md](Nijo/Models/README.md)を参照
- データ型の定義については[ValueMemberTypes/README.md](Nijo/ValueMemberTypes/README.md)を参照
- スキーマパース処理については[SchemaParsing/README.md](Nijo/SchemaParsing/README.md)を参照

## ライセンス
このプロジェクトは[LICENSE.txt](./LICENSE.txt)の条件の下で提供されています。
