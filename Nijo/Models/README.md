# モデル定義
このフォルダには、スキーマ定義から生成される各種モデルの実装が含まれています。
nijo.xmlのルート要素直下のXML要素は、その種類によりどういったソースコードが生成されるかが異なります。例えば、永続化されるべきデータを表したモデル(DataModel)からは、RDBMSのテーブル定義や、Entity Framework Core のDbContextの設定が生成されます。一方、画面や帳票に表示されるべきデータを表したモデル(QueryModel)からは、検索条件のオブジェクト定義や、検索処理が生成されます。このフォルダにはモデル毎にそのモデルからどういったソースコードが生成されるべきかを定義する処理が書かれています。

このフォルダのルートに置かれるファイルは必ず `...Model.cs` という名前を持ちます。
また、そこで定義されるクラスは必ず [IModel](../CodeGenerating/IModel.cs) インターフェースを具備します。

各モデルから生成される各種モジュールは `...ModelModules` という名前のフォルダに入っています。
IModelのクラスは、それと対応する `...ModelModules` フォルダの各モジュールのレンダリングメソッドを呼び出し、生成後のプロジェクトにどういったファイルが生成されるべきかを定義します。

各モデルが何を表しているかはそのモデルの `HelpTextMarkdown` プロパティを参照してください。

## 主な責務
- スキーマ定義の内部表現モデル
- コード生成のための中間モデル
- モデル間の変換ロジック

## スキーマ定義の外部仕様

### モデルタイプ
詳細は各ファイルを参照してください。

- [DataModel](./DataModel.md) : 永続化されるデータモデルを表します。RDBMSのテーブル定義やEntity Framework Coreの設定が生成されます。
- [QueryModel](./QueryModel.md) : 画面や帳票に表示されるデータを表します。検索条件のオブジェクト定義や検索処理が生成されます。
- [CommandModel](./CommandModel.md) : ユーザーの操作などによって実行されるコマンドを表します。APIエンドポイントやバリデーション処理が生成されます。
- [StaticEnumModel](./StaticEnumModel.md) : 静的な列挙型を表します。C#の列挙型やTypeScriptの定数定義などが生成されます。
- [ValueObjectModel](./ValueObjectModel.md) : 値オブジェクトを表します。複数のプリミティブ値をひとまとめにした不変オブジェクトが生成されます。
