# 不変スキーマモデル

このフォルダには、スキーマ解析が完了して妥当性が検証された後の、不変なスキーマモデルの定義が含まれています。
コード生成プロセスではこれらのモデルを使用して、一貫性のあるソースコードを生成します。

## 主な責務

- スキーマ定義の不変なオブジェクトモデルの提供
- スキーマ間の関連性の表現
- コード生成のための安定したAPI提供

## 主要な構成要素

### ApplicationSchema
アプリケーション全体のスキーマ定義を表す [ApplicationSchema](./ApplicationSchema.cs) クラスについて説明します。

- スキーマバージョン
- モデルコレクション
- グローバル設定
- アプリケーション識別子

### 集約基底クラス
モデル定義の基底となる [AggregateBase](./AggregateBase.cs) クラスについて説明します。

- 集約の共通プロパティ
- メンバーコレクション
- 名前空間と命名規則
- メタデータ

### 値型メンバーインターフェース
値型メンバーの定義に使用される [IValueMemberType](./IValueMemberType.cs) インターフェースについて説明します。

- データ型の特性
- バリデーションルール
- マッピング規則
- シリアライズ/デシリアライズ

### 値メンバー
基本的な値メンバーを表す [ValueMember](./ValueMember.cs) クラスについて説明します。

- プロパティ名と表示名
- データ型
- 必須/オプション設定
- デフォルト値

### 参照メンバー
他のモデルへの参照を表す [RefToMember](./RefToMember.cs) クラスについて説明します。

- 参照先モデル
- 外部キー定義
- カスケード設定
- 読み込み方法

### 集約メンバーインターフェース
集約内のメンバーを表す [IAggregateMember](./IAggregateMember.cs) インターフェースについて説明します。

- メンバー共通機能
- コード生成支援メソッド
- バリデーション機能

### リレーショナルメンバーインターフェース
リレーショナルデータベースとのマッピングに関連するメンバーを表す [IRelationalMember](./IRelationalMember.cs) インターフェースについて説明します。

- テーブル・カラム名マッピング
- データベース型定義
- インデックス設定
- 制約設定

## スキーマモデル間の関係

### 継承関係
モデル間の継承関係について説明します。

### コンポジション関係
モデル間のコンポジション関係について説明します。

### 依存関係
モデル間の依存関係について説明します。

## 拡張ポイント

### カスタムメンバータイプ
独自のメンバータイプを定義する方法について説明します。

### メタデータ拡張
モデルのメタデータを拡張する方法について説明します。

### バリデーション拡張
モデルのバリデーションを拡張する方法について説明します。

## 不変性の保証

### イミュータブルデザイン
モデルの不変性を保証するための設計パターンについて説明します。

### デフォルト値
不変オブジェクトのデフォルト値について説明します。

### 検証済みオブジェクト
このスキーマモデルは検証が完了しているため、コード生成処理では例外が発生しないことが保証されています。
