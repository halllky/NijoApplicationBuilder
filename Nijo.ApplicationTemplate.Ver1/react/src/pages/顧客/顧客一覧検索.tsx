import * as React from "react"
import * as Input from "../../input"
import * as Layout from "../../layout"
import { VForm3 } from "../../layout"
import { 顧客DisplayData } from "../../__autoGenerated/顧客"

export const 顧客一覧検索 = () => {

  const multiViewRef = React.useRef<Layout.MultiViewRef<"顧客">>(null)
  const control = multiViewRef.current?.reactHookFormMethods.control

  /** 一覧表示のカラム定義 */
  const getColumnDefs = React.useCallback((cellType: Layout.ColumnDefFactories<顧客DisplayData>): Layout.ColumnDef<顧客DisplayData>[] => [
    cellType.text("values.顧客ID", "顧客ID"),
    cellType.text("values.顧客名", "顧客名"),
    cellType.date("values.生年月日", "生年月日"),
    cellType.number("values.年齢", "年齢"),
    cellType.text("住所.values.都道府県", "都道府県"),
    cellType.text("住所.values.市町村", "市町村"),
    cellType.text("住所.values.番地以降", "番地以降"),
    cellType.text("values.備考", "備考"),
  ], [])

  return (
    <Layout.MultiView
      queryModel="顧客"
      isReady={true}
      title="顧客一覧検索"
      getColumnDefs={getColumnDefs}
    >
      <VForm3.Root labelWidth="8rem">
        <VForm3.BreakPoint>
          <VForm3.Item label="顧客ID">
            <Input.Word name="filter.顧客ID" control={control} />
          </VForm3.Item>
          <VForm3.Item label="顧客名">
            <Input.Word name="filter.顧客名" control={control} />
          </VForm3.Item>
          <VForm3.Item label="生年月日">
            <Input.DateInput name="filter.生年月日" control={control} />
          </VForm3.Item>
          <VForm3.Item label="年齢">
            <Input.NumberInput name="filter.年齢.from" control={control} />
            ～
            <Input.NumberInput name="filter.年齢.to" control={control} />
          </VForm3.Item>
        </VForm3.BreakPoint>
        <VForm3.BreakPoint showBorder label="住所">
          <VForm3.Item label="都道府県">
            <Input.Word name="filter.住所.都道府県" control={control} />
          </VForm3.Item>
          <VForm3.Item label="市町村">
            <Input.Word name="filter.住所.市町村" control={control} />
          </VForm3.Item>
          <VForm3.Item label="番地以降">
            <Input.Word name="filter.住所.番地以降" control={control} />
          </VForm3.Item>
        </VForm3.BreakPoint>
        <VForm3.BreakPoint>
          <VForm3.Item label="備考">
            <Input.Word name="filter.備考" control={control} />
          </VForm3.Item>
        </VForm3.BreakPoint>
      </VForm3.Root>
    </Layout.MultiView>
  )
}
