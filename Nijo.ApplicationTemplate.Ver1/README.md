# Nijo アプリケーションテンプレート

このプロジェクトは、Nijoによって生成されるアプリケーションのテンプレートを提供します。フロントエンド（React）、バックエンド（WebAPI）、およびコアロジックの3層アーキテクチャで構成されています。

## プロジェクト構成
- [`Core/`](./Core/): ビジネスロジックを含むコアプロジェクト。Core.AutoGeneratedを利用しながらビジネスロジックを記述する。
- [`Core.AutoGenerated/`](./Core.AutoGenerated/): ビジネスロジックを含むコアプロジェクト。Nijoによって自動生成される。
- [`WebApi/`](./WebApi/): WebAPIプロジェクト（バックエンド）。Coreを参照する。
- [`react/`](./react/): Reactプロジェクト（フロントエンド）
- [`Test/`](./Test/): ユニットテストプロジェクト

## 主要なファイル
- [`nijo.xml`](./nijo.xml): スキーマ定義ファイル

## 開発用スクリプト
- [`tsc.bat`](./tsc.bat): TypeScriptのコンパイル実行
- [`build-and-error-check.bat`](./build-and-error-check.bat): プロジェクトのビルドとエラーチェック
- [`migration.bat`](./migration.bat): データベースマイグレーションの実行

## 開発フロー
1. [`nijo.xml`](./nijo.xml)でスキーマを定義
2. [`run-nijo-exe.bat`](./run-nijo-exe.bat)を実行してコードを生成
3. 必要に応じて[`migration.bat`](./migration.bat)でDBマイグレーションを実行
4. Core, Webapi, reactの開発を実施

## McpServerの使用方法

CursorエージェントがNijo.ApplicationTemplate.Ver1のデバッグ実行とリビルドを行うためのサーバーです。

### 起動方法

```bash
run-mcpserver.bat
```

または

```bash
cd McpServer
dotnet run
```

### 利用可能なエンドポイント

- GET /api/process/status - プロセスの実行状態を取得
- POST /api/process/start - ReactとWebAPIアプリケーションを起動
- POST /api/process/rebuild - WebAPIアプリケーションを再ビルド
- POST /api/process/stop - すべてのプロセスを停止

### Curlでの操作例

```bash
# 起動
curl -X POST http://localhost:5001/api/process/start

# 再ビルド
curl -X POST http://localhost:5001/api/process/rebuild

# ステータス確認
curl http://localhost:5001/api/process/status

# 停止
curl -X POST http://localhost:5001/api/process/stop
```
